
<section class="row row-cols-3">
    <div class="card-wrapper" *ngFor="let item of source;">
        <article class="card">

            <div class="subtitle">
                <app-title-caption class="caption" [items]="item.categories"></app-title-caption>
                <span>|</span>
                <span class="title-caption--releaseDate">{{getEndDate(item.references) | date:'MMM, YYYY'}}</span>
            </div>

            <h4 class="title">
                <!-- Display tooltip only if title length is above the limit -->
                <a 
                    *ngIf="item.descriptions.title.length >= titleMaxLength"
                    [routerLink]="projectUrl(item)"
                    [matTooltip]="item.descriptions.title" 
                    [matTooltipPosition]="position.value!"
                >
                    {{item.descriptions.title | textTim:titleMaxLength }}
                </a>

                <!-- Don't display tooltip otherwise -->
                <a 
                    *ngIf="item.descriptions.title.length < titleMaxLength"
                    [routerLink]="projectUrl(item)"
                >
                    {{item.descriptions.title}}
                </a>
            </h4>

            <a 
                class="thumbnail-wrap" 
                [routerLink]="projectUrl(item)"
            >
                <img 
                    class="thumbnail"
                    [ngClass]="getThumbnailClass(item.images)"
                    [src]="getHeroImg(item.images)"
                    alt=""
                >
            </a>

        </article>
    </div>
</section>

<!-- [style.background-image]="getHeroImg(item.images)" -->