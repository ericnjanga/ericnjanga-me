
<section class="row row-cols-3">
    <div class="card-wrapper" *ngFor="let item of source;">
        <div class="card">

            <app-icon class="icon" name="ctaArrow"></app-icon>

            <a class="thumbnail-wrap" [routerLink]="projectUrl(item)">
                <div class="img-frame" 
                    [ngClass]="imgClass(item.images, 'frame')" 
                    [style.background-image]="getbackgroundImg(item.images)"
                    >
                    <div class="text-wrapper">
                        <div class="subtitle">

                            <!-- (For only 1 category) Don't render a badge -->
                            <span
                                *ngIf="item.categories.length == 1"
                                class="subtitle--category text-uppercase"
                            >
                                {{item.categories[0].title}}
                            </span> 

                            <!-- (More than 1 category) Render a badge -->
                            <span
                                *ngIf="item.categories.length > 1"
                                class="subtitle--category hasBadge text-uppercase"
                                matBadge="+{{item.categories.length - 1}}" matBadgeOverlap="false"
                            >
                                {{item.categories[0].title}}
                            </span> 

                            <span>|</span>
                        
                            <span class="subtitle--releaseDate">{{getEndDate(item.references) | date:'MMM, YYYY'}}</span>
                        </div>
                        <h4 class="title">{{item.descriptions.title | textTim:95 }}</h4>
                    </div>
                </div>
            </a>
        </div>
    </div>
</section>

